<div class="container">
  <h1>Meteo & Map</h1>
  <input [(ngModel)]="city" placeholder="Inserisci cittÃ " />
  <button (click)="getWeather()">Cerca</button>
  <iframe [src]="mapUrl() | safe" width="100%" height="400"></iframe>


  <div class="weather-block" *ngIf="weather()">
    <div class="current-weather">
      <div class="weather-icon">{{ getWeatherEmoji(weather()?.weathercode) }}</div>
      <p class="temp">{{ weather()?.temperature }}Â°C</p>
      <p class="details">ğŸ’¨ Vento: {{ weather()?.windspeed }} km/h</p>
      <p class="details">ğŸ’§ UmiditÃ : {{ weather()?.humidity || 'â€”' }}%</p>
    </div>

    <div class="forecast" *ngIf="forecast().length">
      <div class="forecast-day" *ngFor="let day of forecast()">
        <p>{{ day.time }}</p>
        <p>â¬†ï¸ {{ day.tempMax }}Â°C â¬‡ï¸ {{ day.tempMin }}Â°C</p>
        <p>ğŸ’§ {{ day.precipitation }} mm</p>
      </div>
    </div>
  </div>

  <div class="map-block" *ngIf="mapUrl()">
    <iframe [src]="mapUrl() | safe" width="100%" height="400" frameborder="0"></iframe>
  </div>
</div>
