<div class="container">
  <h1 class="title">TonyMeteo</h1>

  <div class="search">
    <input [(ngModel)]="city" placeholder="Inserisci cittÃ " />
    <button (click)="search()">Cerca</button>
  </div>

  <p *ngIf="error" class="error">{{ error }}</p>
  <div *ngIf="loading" class="loading">Caricamento...</div>

  <div *ngIf="currentWeather()" class="main" [ngClass]="getWeatherClass()">
    <div class="weather-block">
      <h2>{{ currentWeather()?.name }}</h2>
      <p class="desc">{{ currentWeather()?.description }}</p>
      <p class="temp">{{ currentWeather()?.temperature }}Â°C</p>
      <p>ğŸ’¨ Vento: {{ currentWeather()?.windspeed }} km/h</p>
    </div>

    <div class="forecast-block" *ngIf="forecast().length">
      <h3>Previsioni</h3>
      <div class="forecast-list">
        <div class="day" *ngFor="let f of forecast()">
          <p class="date">{{ f.date }}</p>
          <p>{{ f.temp_min }}Â°C / {{ f.temp_max }}Â°C</p>
          <p>ğŸŒ§ï¸ {{ f.rain }} mm</p>
        </div>
      </div>
    </div>

    <div class="map-block" *ngIf="mapUrl()">
      <iframe [src]="mapUrl() | safe" width="100%" height="400" frameborder="0"></iframe>
    </div>
  </div>
</div>
